"Population",
"Classification",
"Number of Students")
)
apa_table(
census_data,
digits = 0,
caption = "District classification by population according to 2016 census",
note = "Noteda",
col.names = c("District Number",
"District Name",
"Population",
"Classification",
"Number of Students")
)
view(BCdatastripped)
view(BCdata)
View(BCdata)
count_by_year <- BCdata %>%
janitor::clean_names()
view(count_by_year)
as_tibble(count_by_year)
x <- c(10)
district_class[ , x] <- apply(district_class[ , x], 2,
function(x)as.numeric(as.character(x)))
x <- c(10)
BCdata[ , x] <- apply(BCdata[ , x], 2,
function(x)as.numeric(as.character(x)))
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names()
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc")
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students")
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students") %>%
filter(district_number != NA,
district_name != NA)
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students") %>%
filter(district_number !is.na,
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students") %>%
filter(district_number == !is.na,
district_name == !is.na)
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students")
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students")
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students") %>%
drop_na()
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students")
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"district_number",
"district_name",
"special_needs_desc",
"total_students") %>%
drop_na()
as_tibble(count_by_year)
as_tibble(count_by_year)
apa_table(
count_by_year,
digits = 0,
caption = "Headcount by Classification and District Over Time",
note = "Number of students is estimated and does not include masked data.",
col.names = c("School Year",
"District Number",
"District Name",
"Special Needs Description",
"Number of Students")
)
unique(count_by_year$school_year)
View(census_data)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na()
count_by_year
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, district_name, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na()
as_tibble(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na()
as_tibble(count_by_year)
unique(count_by_year$special_needs_desc)
unique(count_by_year$school_year)
knitr::opts_chunk$set(echo = TRUE)
library("papaja")
library(here)
library(tidyverse)
library("readxl")
library(janitor)
#Put library calls you add for your file below here:
#Data Prep
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na()
View(count_by_year)
View(district_class)
rural_districts <- district_class %>%
janitor::clean_names()
View(rural_districts)
rural_districts <- district_class %>%
janitor::clean_names() %>%
filter(district_classification == "Rural")
View(rural_districts)
rural_districts <- district_class %>%
janitor::clean_names() %>%
filter(district_classification == "Rural") %>%
select(-c("data_level",
"public_or_independent",
"district_population_2016"))
View(rural_districts)
View(BCdatastripped)
View(bc_data_district_classification)
code_key <- bc_data_district_classification %>%
janitor::clean_names()
View(code_key)
code_key <- bc_data_district_classification %>%
janitor::clean_names() %>%
select(special_needs_code, special_needs_desc) %>%
distinct()
View(code_key)
rural_districts <- district_class %>%
janitor::clean_names() %>%
filter(district_classification == "Rural") %>%
select(-c("data_level",
"public_or_independent",
"district_population_2016")) %>%
mutate(special_needs_code,
"Physically Dependent" = "A",
"Deafblind" = "B",
"Mod To Profound Intellectual Disability" = "C",
"Phys Disability Or Chronic Health Impair" = "D",
"Visual Impairment" = "E",
"Deaf Or Hard Of Hearing" = "F",
"Autism Spectrum Disorder" = "G",
"Inten Behav Inter/Serious Mental Illness" = "H",
"Severe Learning Disabilities" = "J",
"Mild Intellectual Disability" = "K",
"Behavior Disorder - Moderate" = "M",
"Behavior Disorder - Rehabilitation" = "N",
"Gifted" = "P",
"Learning Disability" = "Q",
"Moderate Behaviour Support/Mental Illness" = "R")
View(rural_districts)
rural_districts <- district_class %>%
janitor::clean_names() %>%
filter(district_classification == "Rural") %>%
select(-c("data_level",
"public_or_independent",
"district_population_2016")) %>%
rename(special_needs_code,
"Physically Dependent" = "A",
"Deafblind" = "B",
"Mod To Profound Intellectual Disability" = "C",
"Phys Disability Or Chronic Health Impair" = "D",
"Visual Impairment" = "E",
"Deaf Or Hard Of Hearing" = "F",
"Autism Spectrum Disorder" = "G",
"Inten Behav Inter/Serious Mental Illness" = "H",
"Severe Learning Disabilities" = "J",
"Mild Intellectual Disability" = "K",
"Behavior Disorder - Moderate" = "M",
"Behavior Disorder - Rehabilitation" = "N",
"Gifted" = "P",
"Learning Disability" = "Q",
"Moderate Behaviour Support/Mental Illness" = "R")
rural_districts <- district_class %>%
janitor::clean_names() %>%
filter(district_classification == "Rural") %>%
select(-c("data_level",
"public_or_independent",
"district_population_2016"))
View(rural_districts)
unique(rural_districts$district_name)
ggplot(rural_districts, aes(x = school_year, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
facet_wrap(~district_name)
ggplot(BCdatastripped, aes(x = SCHOOL_YEAR, y = NUMBER_OF_STUDENTS)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Headcount of Students with Exceptionalities by Category",
x = "School Year",
y = "Headcount")
ggplot(rural_districts, aes(x = school_year, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~district_name)
ggplot(rural_districts, aes(x = special_needs_code, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~district_name)
#Viz - Totals by Code
ggplot(rural_districts, aes(x = special_needs_code, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~school_year)
#Viz - Totals by Code
ggplot(rural_districts, aes(x = school_year, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~special_needs_code)
#Viz - Totals by District
ggplot(rural_districts, aes(x = school_year, y = number_of_students)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts) +
geom_line(aes(school_year, number_of_students), color = district_name) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts) +
geom_line(aes(school_year, number_of_students), color = "district_name") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_line(color = district_name) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts) +
geom_line(aes(school_year, number_of_students),
color = district_name) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts)
ggplot(rural_districts) +
geom_line(aes(school_year, number_of_students)
ggplot(rural_districts) +
ggplot(rural_districts, aes(school_year, number_of_students))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_line(aes(color = district_name))
ggplot(rural_districts) +
geom_point(aes(school_year, number_of_students)) +
geom_line(aes(color = district_name))
ggplot(rural_districts) +
geom_point(aes(school_year, number_of_students))
ggplot(rural_districts)
geom_point(aes(school_year, number_of_students), color = district_name) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts)
geom_point(aes(school_year, number_of_students, color = district_name))
ggplot(rural_districts) +
geom_point(aes(school_year, number_of_students)) +
geom_line(aes(color = district_name))
ggplot(rural_districts, aes(school_year, number_of_students)
geom_point(aes(color = district_name))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_point(aes(color = district_name))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_line(aes(color = district_name))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_point(aes(color = district_name)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_point(aes(color = special_needs_code))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_point(aes(color = special_needs_code)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~district_name)
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_line(aes(color = special_needs_code))
ggplot(rural_districts, aes(school_year, number_of_students)) +
geom_line(aes(color = special_needs_code)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~district_name)
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = district_name))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(special_needs_code, number_of_students, color = special_needs_code))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_step(aes(special_needs_code, number_of_students, color = special_needs_code))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_bar(aes(special_needs_code, number_of_students, color = special_needs_code))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_bar(aes(color = special_needs_code))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = special_needs_code))
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = special_needs_code)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~district_name)
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = special_needs_code)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~school_year)
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = special_needs_code)) +
facet_wrap(~school_year)
#Viz - Totals by Code
ggplot(rural_districts, aes(special_needs_code, number_of_students)) +
geom_line(aes(color = special_needs_code)) +
facet_wrap(~school_year) +
labs(title = "Total Students by Exceptionality",
x = "Exceptionality",
y = "Number of Students") +
scale_fill_manual(name = "Special Needs Description",
labels = c("A - Physically Dependent",
"B - Deafblind",
"C - Moderate to Profound Intellectual Disability",
"D - Physical Disability or Chronic Health Impairment",
"E - Visual Impairment",
"F - Deaf or Hard of Hearing",
"G - Autism Spectrum Disorder",
"H - Inten Behav Inter/Serious Mental Illness",
"J - Severe Learning Disabilities",
"K - Mild Intellectual Disability",
"M - Behavior Disorder (Moderate)",
"N - Behavior Disorder (Rehabilitation)",
"P - Gifted",
"Q - Learning Disability",
"R - Moderate Behaviour Support/Mental Illness"))
ggplot(rural_districts,
aes(special_needs_code, number_of_students,
color = special_needs_code)) +
geom_line()
#Viz - Totals by Code
ggplot(rural_districts,
aes(special_needs_code, number_of_students,
color = special_needs_code)) +
geom_line() +
facet_wrap(~school_year) +
labs(title = "Total Students by Exceptionality",
x = "Exceptionality",
y = "Number of Students") +
scale_color_manual(name = "Special Needs Description",
labels = c("A - Physically Dependent",
"B - Deafblind",
"C - Moderate to Profound Intellectual Disability",
"D - Physical Disability or Chronic Health Impairment",
"E - Visual Impairment",
"F - Deaf or Hard of Hearing",
"G - Autism Spectrum Disorder",
"H - Inten Behav Inter/Serious Mental Illness",
"J - Severe Learning Disabilities",
"K - Mild Intellectual Disability",
"M - Behavior Disorder (Moderate)",
"N - Behavior Disorder (Rehabilitation)",
"P - Gifted",
"Q - Learning Disability",
"R - Moderate Behaviour Support/Mental Illness"))
rlang::last_error()
View(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na() %>%
pivot_wider(names_from = school_year,
values_from = total_students)
View(count_by_year)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
pivot_wider(names_from = school_year,
values_from = total_students)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
pivot_wider(names_from = school_year,
values_from = total_students,
values_fn = {summary_fun})
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
pivot_wider(names_from = school_year,
values_from = total_students,
values_fn = summary_fun)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
pivot_wider(names_from = school_year,
values_from = total_students)
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
pivot_wider(names_from = school_year,
values_from = total_students)
#Data Prep
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
pivot_wider(names_from = school_year,
values_from = total_students) %>%
drop_na() %>%
distinct()
count_by_year <- BCdata %>%
janitor::clean_names() %>%
group_by(school_year, special_needs_desc) %>%
mutate(total_students = sum(number_of_students, na.rm = TRUE)) %>%
select("school_year",
"special_needs_desc",
"total_students") %>%
drop_na()
View(count_by_year)
