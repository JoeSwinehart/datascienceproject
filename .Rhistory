library("papaja")
r_refs("r-references.bib")
library(here)
library(tidyverse)
library(tidyverse)
library("readxl")
library(janitor)
r_refs("r-references.bib")
r_refs(r-references.bib)
library(papaja)
library(readxl)
BCdata <- read_excel(here("data", "bcsped_headcount.xlsx"))
library(ggplot2)
View(BCdata)
library(papaja)
library(here)
library(tidyverse)
library(readxl)
library(janitor)
r_refs('r-references.bib')
library(ggplot2)
BCdata <- read_excel(here("data", "bcsped_headcount.xlsx"))
BCdatastripped <- BCdata %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS",
"PUBLIC_OR_INDEPENDENT") %>%
filter(DATA_LEVEL == "PROVINCE LEVEL",
PUBLIC_OR_INDEPENDENT == "PROVINCE - Total")
BCdatastripped_spedcat <- BCdatastripped %>%
mutate(SPECIAL_NEEDS_CODE = fct_recode(SPECIAL_NEEDS_CODE,
"Physically Dependent" = "A",
"Deafblind" = "B",
"Moderate+ ID" = "C",
"Chronic Health Impairment" = "D",
"Visual Impairment" = "E",
"Deaf or Hard of Hearing" = "F",
"Autism" = "G",
"Intensive Behavioural Need" = "H",
"Mild ID" = "K",
"Learning Disability" = "Q",
"Gifted" = "P",
"Mild Behavioural Need" = "R"),
SCHOOL_YEAR = as.factor(SCHOOL_YEAR),
NUMBER_OF_STUDENTS = as.integer(NUMBER_OF_STUDENTS),
SCHOOL_YEAR = as.integer(SCHOOL_YEAR)) %>%
filter(SCHOOL_YEAR >= 7,
SPECIAL_NEEDS_CODE != "M",
SPECIAL_NEEDS_CODE != "J",
SPECIAL_NEEDS_CODE != "N")
View(BCdatastripped_spedcat)
ggplot(BCdatastripped_spedcat, aes(x = SCHOOL_YEAR, y = NUMBER_OF_STUDENTS)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Headcount of Students with Exceptionalities by Category",
x = "School Year",
y = "Headcount")
?as_tibble()
?as_tibble
?sum
library(papaja)
library(here)
library(tidyverse)
library(readxl)
library(janitor)
r_refs('r-references.bib')
#thing to work on no.1: library() and require() can be called either with or without quotes, because they are examples of nonstandard evaluation
#however, the best practice is to uniformly decide whether or not to use quotation marks.
library(ggplot2)
#why leave the two same commands?
BCdata <- read_excel(here("data", "bcsped_headcount.xlsx"))
#the best practice would be to use clean_names() and as_tibble() here, in particularly because janitor package was loaded
BCdatastripped <- BCdata %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS",
"PUBLIC_OR_INDEPENDENT") %>%
filter(DATA_LEVEL == "PROVINCE LEVEL",
PUBLIC_OR_INDEPENDENT == "PROVINCE - Total")
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
summarize(total = sum(NUMBER_OF_STUDENTS))
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
summarize(total = sum(NUMBER_OF_STUDENTS))
View(BCdatastripped_spedcat2)
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
mutate(total = sum(NUMBER_OF_STUDENTS))
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
mutate(total = sum(NUMBER_OF_STUDENTS)) %>%
mutate(ratio = NUMBER_OF_STUDENTS / total)
ggplot(BCdatastripped_spedcat2, aes(x = SCHOOL_YEAR, y = ratio)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Ratio of Students with Exceptionalities by Category",
x = "School Year",
y = "Ratio")
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
mutate(total = sum(NUMBER_OF_STUDENTS)) %>%
mutate(ratio = NUMBER_OF_STUDENTS / total)
ggplot(BCdatastripped_spedcat2, aes(x = SCHOOL_YEAR, y = ratio)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Ratio of Students with Exceptionalities by Category",
x = "School Year",
y = "Ratio")
ggplot(BCdatastripped_spedcat2, aes(x = SCHOOL_YEAR, y = ratio)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Ratio of Students with Exceptionalities by Category",
x = "School Year",
y = "Ratio") +
theme_minimal()
bc_data_district_classification <- read_excel(here("data", "bc_data_district_classification.xlsx"))
district_class <- bc_data_district_classification %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"PUBLIC_OR_INDEPENDENT",
"DISTRICT_NUMBER",
"DISTRICT_NAME",
"DISTRICT_POPULATION_2016",
"DISTRICT_CLASSIFICATION",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS") %>%
filter(DATA_LEVEL == "DISTRICT LEVEL",
PUBLIC_OR_INDEPENDENT == "BC Public School") %>%
pivot_longer(DISTRICT_CLASSIFICATION, values_drop_na = TRUE, values_to = "DISTRICT_CLASSIFICATION") %>%
select(-"name")
View(district_class)
primodata <- read_excel(here("data", "primo_merged_oregon_data.xlsx"))
View(primodata)
cleanest_primo <- cleanest_primo %>%
select(-six_to_twentyone_total, -x24)
primodata <- read_excel(here("data", "primo_merged_oregon_data.xlsx"))
cleanest_primo <-primodata %>%
remove_empty(which = c("rows", "cols")) %>%
clean_names()
cleanest_primo <- cleanest_primo %>%
select(-six_to_twentyone_total, -x24)
cleanest_primo2 <- cleanest_primo [!(cleanest_primo$disability=="TOTAL (SUM OF ALL OF THE ABOVE)" |cleanest_primo$disability=="OTHER HEALTH IMPAIRMENT" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY"),]
cleanest_primo2
fresh_primo <- cleanest_primo2 %>%
pivot_longer(starts_with("x"), names_to = "age", values_to = "frequency") %>%
mutate(age = parse_number(age),
year = parse_number(year))
fresh_primo %>%
group_by(year, disability) %>%
summarize(total=sum(frequency, na.rm=TRUE))
ggplot(fresh_primo, aes(age, frequency))+
geom_line(aes(color=disability))+
facet_wrap(~year)+
labs(color="disability", x= "Student Age", y="Student Count", title ="Disability Prevalence By Age")
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability))+
facet_wrap(~year)
geom_line()
?geom_line
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability linetype = year))
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability, linetype = year))
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability, size=year))
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency)) +
geom_line(aes(color=disability)) +
facet_wrap(~year)
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
ggplot(BCdatastripped_spedcat, aes(x = SCHOOL_YEAR, y = NUMBER_OF_STUDENTS)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Headcount of Students with Exceptionalities by Category",
x = "School Year",
y = "Headcount")
library(papaja)
library(here)
library(tidyverse)
library(readxl)
library(janitor)
r_refs('r-references.bib')
#things I learned no.1: I knew that library() and require() can be called either with or without quotes but didn't fully understand why...
#it's because they use nonstandard evaluation because internally they use deparse(substitute(x)) plus some other tricks.
#however, the best practice is to uniformly decide whether or not to use quotation marks.
library(ggplot2)
#why leave the two same commands?
BCdata <- read_excel(here("data", "bcsped_headcount.xlsx"))
#things to work on no.1: the best practice would be to use clean_names() and as_tibble() here, in particularly because janitor package was loaded
BCdatastripped <- BCdata %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS",
"PUBLIC_OR_INDEPENDENT") %>%
filter(DATA_LEVEL == "PROVINCE LEVEL",
PUBLIC_OR_INDEPENDENT == "PROVINCE - Total")
BCdatastripped_spedcat2 <- BCdatastripped_spedcat %>%
group_by(SCHOOL_YEAR) %>%
mutate(total = sum(NUMBER_OF_STUDENTS)) %>%
mutate(ratio = NUMBER_OF_STUDENTS / total)
ggplot(BCdatastripped_spedcat2, aes(x = SCHOOL_YEAR, y = ratio)) +
geom_line(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~SPECIAL_NEEDS_CODE) +
labs(title = "BC Provincial Ratio of Students with Exceptionalities by Category",
x = "School Year",
y = "Ratio") +
theme_minimal()
bc_data_district_classification <- read_excel(here("data", "bc_data_district_classification.xlsx"))
district_class <- bc_data_district_classification %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"PUBLIC_OR_INDEPENDENT",
"DISTRICT_NUMBER",
"DISTRICT_NAME",
"DISTRICT_POPULATION_2016",
"DISTRICT_CLASSIFICATION",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS") %>%
filter(DATA_LEVEL == "DISTRICT LEVEL",
PUBLIC_OR_INDEPENDENT == "BC Public School") %>%
pivot_longer(DISTRICT_CLASSIFICATION, values_drop_na = TRUE, values_to = "DISTRICT_CLASSIFICATION") %>%
select(-"name")
View(bc_data_district_classification)
district_class <- bc_data_district_classification %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"PUBLIC_OR_INDEPENDENT",
"DISTRICT_NUMBER",
"DISTRICT_NAME",
"DISTRICT_POPULATION_2016",
"DISTRICT_CLASSIFICATION",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS") %>%
filter(DATA_LEVEL == "DISTRICT LEVEL",
PUBLIC_OR_INDEPENDENT == "BC Public School") %>%
pivot_longer(DISTRICT_CLASSIFICATION, values_drop_na = TRUE, values_to = "DISTRICT_CLASSIFICATION") %>%
select(-"name")
primodata <- read_excel(here("data", "primo_merged_oregon_data.xlsx"))
View(primodata)
cleanest_primo <-primodata %>%
remove_empty(which = c("rows", "cols")) %>%
clean_names()
cleanest_primo <- cleanest_primo %>%
select(-six_to_twentyone_total, -x24)
View(cleanest_primo)
cleanest_primo2 <- cleanest_primo [!(cleanest_primo$disability=="TOTAL (SUM OF ALL OF THE ABOVE)" |cleanest_primo$disability=="OTHER HEALTH IMPAIRMENT" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY"),]
View(cleanest_primo2)
fresh_primo <- cleanest_primo2 %>%
pivot_longer(starts_with("x"), names_to = "age", values_to = "frequency") %>%
mutate(age = parse_number(age),
year = parse_number(year))
View(fresh_primo)
fresh_primo <- cleanest_primo2 %>%
pivot_longer(starts_with("x"), names_to = "age", values_to = "frequency") %>%
mutate(age = parse_number(age),
year = parse_number(year))
fresh_primo %>%
group_by(year, disability) %>%
summarize(total=sum(frequency, na.rm=TRUE))
?fct_recode
View(bc_data_district_classification)
as.tibble(BCdata)
BCdatastripped
BCdatastripped_spedcat
library(papaja)
library(here)
library(tidyverse)
library(readxl)
library(janitor)
r_refs('r-references.bib')
#avoid using quotation marks when using library() command
library(ggplot2)
#library("ggplot2")
#why leave the two same commands?
BCdata <- read_excel(here("data", "bcsped_headcount.xlsx"))
#the best practice would be to use clean_names() and as_tibble() here, in particularly because janitor package was loaded
BCdatastripped <- BCdata %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS",
"PUBLIC_OR_INDEPENDENT") %>%
filter(DATA_LEVEL == "PROVINCE LEVEL",
PUBLIC_OR_INDEPENDENT == "PROVINCE - Total")
bc_data_district_classification <- read_excel(here("data", "bc_data_district_classification.xlsx"))
district_class <- bc_data_district_classification %>%
select("SCHOOL_YEAR",
"DATA_LEVEL",
"PUBLIC_OR_INDEPENDENT",
"DISTRICT_NUMBER",
"DISTRICT_NAME",
"DISTRICT_POPULATION_2016",
"DISTRICT_CLASSIFICATION",
"SPECIAL_NEEDS_CODE",
"NUMBER_OF_STUDENTS") %>%
filter(DATA_LEVEL == "DISTRICT LEVEL",
PUBLIC_OR_INDEPENDENT == "BC Public School") %>%
pivot_longer(DISTRICT_CLASSIFICATION, values_drop_na = TRUE, values_to = "DISTRICT_CLASSIFICATION") %>%
select(-"name")
View(district_class)
primodata <- read_excel(here("data", "primo_merged_oregon_data.xlsx"))
cleanest_primo <-primodata %>%
remove_empty(which = c("rows", "cols")) %>%
clean_names()
cleanest_primo <- cleanest_primo %>%
select(-six_to_twentyone_total, -x24)
cleanest_primo2 <- cleanest_primo [!(cleanest_primo$disability=="TOTAL (SUM OF ALL OF THE ABOVE)" |cleanest_primo$disability=="OTHER HEALTH IMPAIRMENT" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY" | cleanest_primo$disability=="SPECIFIC LEARNING DISABILITY"),]
cleanest_primo2
fresh_primo <- cleanest_primo2 %>%
pivot_longer(starts_with("x"), names_to = "age", values_to = "frequency") %>%
mutate(age = parse_number(age),
year = parse_number(year))
fresh_primo %>%
group_by(year, disability) %>%
summarize(total=sum(frequency, na.rm=TRUE))
fresh_primo %>%
filter(year == 2002) %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability))+
labs(color="disability", x= "Student Age", y="Student Count", title ="Disability Prevalence By Age")
fresh_primo %>%
filter(year == 2002) %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability))+
labs(color="disability", x= "Student Age", y="Student Count", title ="Disability Prevalence By Age in 2002")
fresh_primo %>%
filter(year == 2002) %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability))+
labs(color="disability", x= "Student Age", y="Student Count", title ="Disability Prevalence By Age in 2002")
#hiding this for now
fresh_primo %>%
filter(disability=="AUTISM") %>%
ggplot(aes(age, frequency)) +
geom_line(aes(color=disability)) +
facet_wrap(~year)
fresh_primo %>%
filter(year == 2002) %>%
ggplot(aes(age, frequency))+
geom_line(aes(color=disability))+
labs(color="disability", x= "Student Age", y="Student Count", title ="Disability Prevalence By Age in 2002") +
theme_minimal()
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue", se = NA) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue", se = FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_line(color = "cornflowerblue", se = FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue", se = FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
#this is more in line with the BC graphing
ggplot(fresh_primo, aes(year, frequency))+
geom_smooth(color = "cornflowerblue", se = FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
facet_wrap(~disability)+
labs(color="frequency", x= "Year", y="Student Count", title = "Trends in Frequency")
